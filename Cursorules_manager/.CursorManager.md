# CursorManager: Gestor Central de Gu√≠as de Desarrollo

## Descripci√≥n

CursorManager act√∫a como un orquestador central para todos los cursores especializados de tu proyecto. Este gestor est√° dise√±ado para funcionar en conjunto con el script `analyze.sh` para proporcionar informaci√≥n en tiempo real sobre el estado de tu proyecto.

## An√°lisis en Tiempo Real

Para obtener un an√°lisis actualizado de tu proyecto:

```bash
# Otorgar permisos de ejecuci√≥n: Abre una terminal en la ra√≠z de tu proyecto y ejecuta:
chmod +x analyze.sh
# Ejecuta el script de an√°lisis

./analyze.sh

# Revisa el reporte generado
cat analysis_report.md

## Arquitectura General del Proyecto

```
AI Task Manager
‚îú‚îÄ‚îÄ Frontend (Next.js + TypeScript + Tailwind + Shadcn)
‚îú‚îÄ‚îÄ Backend
‚îÇ   ‚îú‚îÄ‚îÄ Supabase (Base de datos y autenticaci√≥n)
‚îÇ   ‚îú‚îÄ‚îÄ APIs
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ OpenRouter (IA - Qwen)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Google (Auth + Calendar)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ PayPal (Procesamiento de pagos)
‚îÇ   ‚îî‚îÄ‚îÄ Edge Functions (Serverless)
‚îî‚îÄ‚îÄ Integraciones
    ‚îú‚îÄ‚îÄ Autenticaci√≥n con Google
    ‚îú‚îÄ‚îÄ Google Calendar
    ‚îú‚îÄ‚îÄ IA con Qwen/OpenRouter
    ‚îî‚îÄ‚îÄ Procesamiento de pagos con PayPal
```

## Gu√≠as Especializadas Disponibles

| Gu√≠a Especializada | Enfoque | Cu√°ndo usarla |
|------------|---------|--------|-------------|
| [.CursorRules_Supabase.md](./.CursorRules_Supabase.md) | Base de datos, autenticaci√≥n, tiempo real | Para todo lo relacionado con persistencia de datos y manejo del backend |
| [.CursorRules_GoogleAuth.md](./.CursorRules_GoogleAuth.md) | Autenticaci√≥n con Google | Cuando necesites implementar login con Google y manejo de sesiones |
| [.CursorRules_GoogleCalendar.md](./.CursorRules_GoogleCalendar.md) | Integraci√≥n con Calendario | Para sincronizar tareas con el calendario de Google del usuario |
| [.CursorRules_PayPal.md](./.CursorRules_PayPal.md) | Procesamiento de pagos | Al implementar suscripciones o pagos puntuales para planes Premium |
| [.IA_Implementacion.md](./.IA_Implementacion.md) | Funcionalidades de IA con Qwen | Para todas las caracter√≠sticas inteligentes de la aplicaci√≥n |
| [.CursorRules_ProjectStatus.md](./.CursorRules_ProjectStatus.md) | Monitoreo y estado del proyecto | Para verificar el estado general y obtener recomendaciones de acci√≥n |
| [.CursorRules_Deployment.md](./.CursorRules_Deployment.md) | Despliegue del SaaS | Para desplegar la aplicaci√≥n usando Supabase, Vercel y Railway |
| [.CursorProjectAnalyzer.md](./CursorProjectAnalyzer.md) | An√°lisis de c√≥digo real | Para obtener insights basados en tu implementaci√≥n actual |

## Problemas Prioritarios

Seg√∫n el estado actual, estos son los problemas m√°s importantes a resolver:

1. **üü° [P001]** Tiempos de respuesta elevados en IA - Ver [.IA_Implementacion.md](./.IA_Implementacion.md)
2. **üü° [P003]** Renovaci√≥n de tokens en Calendar - Ver [.CursorRules_GoogleCalendar.md](./.CursorRules_GoogleCalendar.md)
3. **üü¢ [P002]** Optimizaci√≥n de √≠ndices en base de datos - Ver [.CursorRules_Supabase.md](./.CursorRules_Supabase.md)

## Flujo de Desarrollo Recomendado

1. **Configuraci√≥n Inicial** ‚úÖ
   - Iniciar con Supabase para la base de datos y estructura del backend ‚úÖ
   - Implementar autenticaci√≥n con Google para gesti√≥n de usuarios ‚úÖ

2. **Desarrollo de Features Core** üü°
   - Implementar funcionalidades b√°sicas de gesti√≥n de tareas ‚úÖ
   - Integrar IA para asistencia en tareas y productividad üü°

3. **Integraciones Avanzadas** üü°
   - Conectar con Google Calendar para sincronizaci√≥n de tareas üü°
   - Implementar sistema de pagos para planes premium ‚ö™

4. **Despliegue y Monetizaci√≥n** ‚ö™
   - Desplegar en plataformas recomendadas ‚ö™
   - Implementar planes de suscripci√≥n ‚ö™

## Matriz de Decisi√≥n para Selecci√≥n de Cursores
| Si el an√°lisis muestra... | Consulta... | Para... |
|-----------|-------------------|-----------------|
|Problemas con renovaci√≥n de tokens|.CursorRules_GoogleCalendar.md|Implementar renovaci√≥n autom√°tica|
|Problemas con tiempos de IA|.IA_Implementacion.md|Optimizar llamadas a OpenRouter|
|Problemas con base de datos|.CursorRules_Supabase.md|Optimizar √≠ndices y consultas|
|Necesidad de despliegue|.CursorRules_Deployment.md|Configurar Vercel, Supabase, Railway|

Usa esta matriz para determinar qu√© cursor necesitas seg√∫n la fase de desarrollo:

| Necesidad | Cursor Recomendado | Consideraciones |
|-----------|-------------------|-----------------|
| Verificar estado del proyecto | CursorRules_ProjectStatus | Utiliza los comandos `status check` para obtener el estado actual |
| Estructurar base de datos | CursorRules_Supabase | Necesitar√°s definir el esquema de datos antes de cualquier otra cosa |
| Login con redes sociales | CursorRules_GoogleAuth | Aseg√∫rate de tener las credenciales de API creadas en Google Cloud |
| Feature: Sugerencias IA | IA_Implementacion | Requiere una cuenta en OpenRouter y configurar acceso a Qwen |
| Feature: Sincronizaci√≥n con calendario | CursorRules_GoogleCalendar | Depende de tener la autenticaci√≥n con Google ya implementada |
| Feature: Planes de pago | CursorRules_PayPal | Es mejor dejarlo para despu√©s de tener las funcionalidades core |
| Desplegar el SaaS | CursorRules_Deployment | Aseg√∫rate de tener todas las dependencias configuradas primero |

## Mapa de Dependencias entre Cursores

```mermaid
graph TD
    A[CursorRules_Supabase] -->|Base para| B[CursorRules_GoogleAuth]
    A -->|Base para| C[IA_Implementacion]
    B -->|Requerido por| D[CursorRules_GoogleCalendar]
    A -->|Base para| E[CursorRules_PayPal]
    C -->|Mejora| D
    C -->|Mejora| E

    %% graph TD
    A[CursorManager] -->|Consulta| B[analysis_report.md]
    C[analyze.sh] -->|Genera| B
    B -->|Informa| A
    A -->|Recomienda| D[Cursores Espec√≠ficos]
    D -->|Implementan mejoras| E[Tu Proyecto]
    E -->|Se analiza| C

    %% Integraci√≥n con Deployment
    Y[CursorRules_Deployment] -->|Despliega| A
    Y -->|Usa configuraci√≥n de| B
    Y -->|Despliega| C
    Y -->|Despliega| D
    Y -->|Integra| E
    Z -->|Monitorea| Y

    %% Integraci√≥n con ProjectAnalyzer
    X[CursorProjectAnalyzer] -->|Analiza| A
    X -->|Analiza| B
    X -->|Analiza| C
    X -->|Analiza| D
    X -->|Analiza| E
    X -->|Informa a| F
    Z -->|Usa datos de| X
```

## Comandos de Consulta R√°pida

Para acceder r√°pidamente al cursor que necesitas:

```bash
# Analizar el estado actual del proyecto
./analyze.sh

# Verificar el estado del proyecto
consultar .CursorRules_ProjectStatus.md

# Crear una nueva tabla en Supabase
consultar .CursorRules_Supabase.md "CREATE TABLE"

# Implementar login con Google
consultar .CursorRules_GoogleAuth.md "Configuraci√≥n en Google Cloud Console"

# Resolver problema de tokens en Calendar
consultar .CursorRules_GoogleCalendar.md "Renovaci√≥n de tokens"

# Configurar pagos
consultar .CursorRules_PayPal.md "Cliente de PayPal"

# Implementar features de IA
consultar .IA_Implementacion.md "Funcionalidades de IA"

# Desplegar el SaaS
consultar .CursorRules_Deployment.md "Proceso de Despliegue"

```

## Gesti√≥n de Versiones y Fases

### Fase 1: MVP (Minimum Viable Product) üü°
- **Cursores necesarios:**
  - CursorRules_Supabase (esquema b√°sico) ‚úÖ
  - CursorRules_GoogleAuth (login b√°sico) ‚úÖ
  - IA_Implementacion (funcionalidades b√°sicas) üü°

### Fase 2: Producto Completo üü°
- **Cursores adicionales:**
  - CursorRules_GoogleCalendar üü°
  - Expansi√≥n de CursorRules_Supabase para m√©tricas y analytics üü°

### Fase 3: Monetizaci√≥n y Despliegue ‚ö™
- **Cursores adicionales:**
  - CursorRules_PayPal ‚ö™
  - CursorRules_Deployment ‚ö™
  - Expansi√≥n de todos los cursores para soportar planes de suscripci√≥n ‚ö™

## Checklist de Implementaci√≥n

- [x] **Configuraci√≥n Inicial**
  - [x] Esquema de base de datos Supabase
  - [x] Configuraci√≥n de autenticaci√≥n

- [ ] **Features Core**
  - [x] CRUD de tareas
  - [x] Categorizaci√≥n y organizaci√≥n
  - [ ] Integraci√≥n de IA para recomendaciones

- [ ] **Integraciones**
  - [ ] Google Calendar
  - [ ] Sistema de pagos

- [ ] **Optimizaciones**
  - [ ] Rendimiento frontend
  - [ ] Costos de API de IA
  - [ ] Seguridad y privacidad

- [ ] **Despliegue**
  - [ ] Configuraci√≥n de Supabase en producci√≥n
  - [ ] Configuraci√≥n de Vercel para frontend
  - [ ] Configuraci√≥n de Railway (si es necesario)
  - [ ] Dominios personalizados y SSL

## C√≥mo Utilizar el Monitoreo del Proyecto

1. **Verificar estado general:**
   ```
   status check
   ```

2. **Verificar componente espec√≠fico:**
   ```
   status check ia
   ```

3. **Consultar problemas actuales:**
   ```
   grep_search "Problemas Activos" CursorRules_ProjectStatus.md
   ```

4. **Actualizar estado despu√©s de resolver un problema:**
   ```
   status resolve P001
   ```

## Ejemplo de Uso del CursorManager

### Escenario 1: Inicio del Proyecto

**Pregunta al CursorManager:** "Necesito empezar el proyecto de AI Task Manager, ¬øpor d√≥nde comienzo?"

**Respuesta:**
1. Comienza con CursorRules_Supabase.md para configurar la base de datos
2. Implementa el esquema b√°sico para tareas y usuarios
3. Luego configura la autenticaci√≥n con CursorRules_GoogleAuth.md

### Escenario 2: Implementaci√≥n de Feature Espec√≠fica

**Pregunta al CursorManager:** "Quiero que las tareas se sincronicen con Google Calendar"

**Respuesta:**
1. Aseg√∫rate de tener implementada la autenticaci√≥n con Google (CursorRules_GoogleAuth.md)
2. Consulta CursorRules_GoogleCalendar.md, secci√≥n "Cliente de Google Calendar"
3. Implementa primero la funcionalidad de lectura de eventos
4. Luego a√±ade la sincronizaci√≥n bidireccional

### Escenario 3: Problema T√©cnico

**Pregunta al CursorManager:** "Tengo un error en las pol√≠ticas de seguridad de Supabase"

**Respuesta:**
1. Consulta CursorRules_Supabase.md, secci√≥n "RLS (Row Level Security)"
2. Verifica que est√°s siguiendo las mejores pr√°cticas de definici√≥n de pol√≠ticas
3. Implementa las pol√≠ticas recomendadas para la tabla espec√≠fica donde tienes el error

### Escenario 4: Verificaci√≥n de Estado

**Pregunta al CursorManager:** "¬øCu√°l es el estado actual del proyecto y qu√© deber√≠a priorizar?"

**Respuesta:**
1. El estado general es üü° Atenci√≥n Requerida (62% completado)
2. Deber√≠as priorizar la implementaci√≥n del sistema de cach√© para IA (P001)
3. Consulta CursorRules_ProjectStatus.md para ver todos los detalles del estado
4. Ejecuta `status check` para obtener informaci√≥n en tiempo real

### Escenario 5: Despliegue del SaaS

**Pregunta al CursorManager:** "Quiero desplegar mi aplicaci√≥n como un SaaS usando Supabase, Vercel y Railway"

**Respuesta:**
1. Verifica que todas las funcionalidades principales est√©n implementadas y probadas
2. Consulta CursorRules_Deployment.md para obtener instrucciones detalladas
3. Sigue el proceso de despliegue comenzando por Supabase, luego Railway y finalmente Vercel
4. Usa la lista de verificaci√≥n pre-lanzamiento para asegurarte de no olvidar nada importante

## Consideraciones Especiales por Dominio

### Backend (Supabase)
- Mant√©n el n√∫mero de tablas optimizado para evitar complejidad innecesaria
- Utiliza RLS para seguridad desde el inicio
- Configura √≠ndices para consultas frecuentes

### Autenticaci√≥n
- Solicita solo los permisos m√≠nimos necesarios en OAuth
- Implementa manejo de tokens adecuado
- Asegura rutas protegidas con middleware

### IA
- Optimiza los prompts para Qwen para reducir costos
- Implementa cach√© para respuestas comunes
- Monitorea el uso para evitar sorpresas en facturaci√≥n

### Pagos
- Comienza con la integraci√≥n sandbox
- Implementa idempotencia para evitar pagos duplicados
- Mant√©n registros detallados de transacciones

### Despliegue
- Sigue la arquitectura recomendada (Supabase + Vercel + Railway)
- Implementa CI/CD desde el principio
- Configura monitoreo y alertas para detectar problemas r√°pidamente
- Mant√©n un plan de backup y recuperaci√≥n bien definido

## Resumen

El CursorManager te ayudar√° a navegar las diferentes gu√≠as especializadas seg√∫n la etapa de desarrollo en la que te encuentres, ahora con monitoreo de estado integrado gracias a CursorRules_ProjectStatus y opciones de despliegue con CursorRules_Deployment. Cons√∫ltalo cuando:

1. No sepas por d√≥nde empezar
2. Necesites implementar una feature espec√≠fica
3. Tengas un problema t√©cnico concreto
4. Necesites entender dependencias entre componentes
5. Quieras verificar el estado del proyecto y priorizar tareas
6. Est√©s listo para desplegar tu aplicaci√≥n como un SaaS

Recuerda que cada cursor est√° especializado en un dominio espec√≠fico pero todos trabajan juntos para crear una aplicaci√≥n cohesiva y bien integrada.
